import { Root as NewfoldRoot, AutocompleteField } from "@newfold/ui-component-library";
import PropsTable from '@site/src/components/PropsTable';
import { AutocompleteFieldDemo, AutocompleteFieldValidationVariants, autocompleteFieldProps } from '@site/docs/partials/autocomplete-field';

# Autocomplete Field
The `AutocompleteField` is a text/select input equipped with a panel of suggested options when users start typing.

<NewfoldRoot>
    <AutocompleteFieldDemo />
</NewfoldRoot>

---
### Usage
```jsx
<AutocompleteField
    id="autocomplete-field-select"
    onChange={handleChange}
    onQueryChange={handleQueryChange}
    placeholder="Type to autocomplete options"
    value=""
>
    <AutocompleteField.Option value="1">
        Option 1
    </AutocompleteField.Option>
    <AutocompleteField.Option value="2">
        Option 2
    </AutocompleteField.Option>
    <AutocompleteField.Option value="3">
        Option 3
    </AutocompleteField.Option>
</AutocompleteField>
```
:::info
The `AutocompleteField` component is mostly a wrapper around the [`Autocomplete`](../elements/autocomplete) element.
So any props that are available to the [`Autocomplete`](../elements/autocomplete) element are
also available to the `AutocompleteField` component. The diffrence is the `AutocompleteField`
component supports [validation variants and messages](#validation).
:::

---
### Label
An example with a label using `label` prop.

<NewfoldRoot>
    <AutocompleteFieldDemo label="Select an Option"/>
</NewfoldRoot>

```jsx
<AutocompleteField
    id="autocomplete-field-select-label"
    onChange={handleChange}
    onQueryChange={handleQueryChange}
    placeholder="Type to autocomplete options"
    value=""
    label="Select an Option"
>
    <AutocompleteField.Option value="1">
        Option 1
    </AutocompleteField.Option>
    <AutocompleteField.Option value="2">
        Option 2
    </AutocompleteField.Option>
    <AutocompleteField.Option value="3">
        Option 3
    </AutocompleteField.Option>
</AutocompleteField>
```

---
### Placeholder
An example with placeholder using `placeholder` prop.

<NewfoldRoot>
    <AutocompleteFieldDemo 
        label="Select an Option"
        placeholder="A custom placeholder"
    />
</NewfoldRoot>

```jsx
<AutocompleteField
    id="autocomplete-field-select-placeholder"
    onChange={handleChange}
    onQueryChange={handleQueryChange}
    value=""
    label="Select an Option"
    placeholder="A custom placeholder"
>
    <AutocompleteField.Option value="1">
        Option 1
    </AutocompleteField.Option>
    <AutocompleteField.Option value="2">
        Option 2
    </AutocompleteField.Option>
    <AutocompleteField.Option value="3">
        Option 3
    </AutocompleteField.Option>
</AutocompleteField>
```

---
### Selected Label
An example with default value using `selectedLabel` prop.

<NewfoldRoot>
    <AutocompleteFieldDemo 
        label="Select an Option"
        placeholder="A custom placeholder"
        selectedLabel="Option 2"
        value="2"
    />
</NewfoldRoot>

```jsx
<AutocompleteField
    id="autocomplete-field-select-selected-label"
    onChange={handleChange}
    onQueryChange={handleQueryChange}
    label="Select an Option"
    placeholder="Type to autocomplete options"
    value="2"
    selectedLabel="Option 2"
>
    <AutocompleteField.Option value="1">
        Option 1
    </AutocompleteField.Option>
    <AutocompleteField.Option value="2">
        Option 2
    </AutocompleteField.Option>
    <AutocompleteField.Option value="3">
        Option 3
    </AutocompleteField.Option>
</AutocompleteField>
```

---
### Nullable
Allow empty values with reset button `X` or deleting the option and clicking outside the field.

<NewfoldRoot>
    <AutocompleteFieldDemo 
        label="Select an Option"
        placeholder="Type to autocomplete options"
        value="2"
        selectedLabel="Option 2"
        nullable={true}
    />
</NewfoldRoot>

```jsx
<AutocompleteField
    id="autocomplete-field-select-nullable"
    onChange={handleChange}
    onQueryChange={handleQueryChange}
    value=""
    label="Select an Option"
    placeholder="Type to autocomplete options"
    selectedLabel=""
>
    <AutocompleteField.Option value="1">
        Option 1
    </AutocompleteField.Option>
    <AutocompleteField.Option value="2">
        Option 2
    </AutocompleteField.Option>
    <AutocompleteField.Option value="3">
        Option 3
    </AutocompleteField.Option>
</AutocompleteField>
```

---
### onChange
The `onChange` prop is a function that will be called when the value of the `AutocompleteField` component changes.
The function will receive the new value of the `AutocompleteField` component as a parameter.

```jsx
<AutocompleteField
    id="autocomplete-field-select-onchange"
    onChange={new_val => console.log(new_val)}
    onQueryChange={handleQueryChange}
>
    <AutocompleteField.Option value="1">
        Option 1
    </AutocompleteField.Option>
    <AutocompleteField.Option value="2">
        Option 2
    </AutocompleteField.Option>
    <AutocompleteField.Option value="3">
        Option 3
    </AutocompleteField.Option>
</AutocompleteField>
```

---
### onQueryChange
The `onQueryChange` prop is a function that will be called when the query of the `AutocompleteField` component changes.
The function will receive the new query event of the `AutocompleteField` component as a parameter.

```jsx
<AutocompleteField
    id="autocomplete-field-select-querychange"
    onChange={(new_val) => console.log(new_val)}
    onQueryChange={(event) => console.log(event.target.value)}
>
    <AutocompleteField.Option value="1">
        Option 1
    </AutocompleteField.Option>
    <AutocompleteField.Option value="2">
        Option 2
    </AutocompleteField.Option>
    <AutocompleteField.Option value="3">
        Option 3
    </AutocompleteField.Option>
</AutocompleteField>
```

### Validation
<AutocompleteFieldValidationVariants />

---
### Props
<PropsTable.Table docs={autocompleteFieldProps} />
