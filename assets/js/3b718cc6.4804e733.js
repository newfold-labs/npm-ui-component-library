"use strict";(self.webpackChunknewfold_ui_docs=self.webpackChunknewfold_ui_docs||[]).push([[3340],{256:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>h,contentTitle:()=>m,default:()=>v,frontMatter:()=>u,metadata:()=>a,toc:()=>g});const a=JSON.parse('{"id":"elements/image-input","title":"Image Input","description":"The ImageInput element provides a file input to upload images.","source":"@site/docs/elements/image-input.mdx","sourceDirName":"elements","slug":"/elements/image-input","permalink":"/npm-ui-component-library/docs/elements/image-input","draft":false,"unlisted":false,"editUrl":"https://github.com/newfold-labs/npm-ui-component-library/docs/docs/elements/image-input.mdx","tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Error Boundary","permalink":"/npm-ui-component-library/docs/elements/error-boundary"},"next":{"title":"Label","permalink":"/npm-ui-component-library/docs/elements/label"}}');var t=i(4848),s=i(8453),r=i(8043),l=i(5245),o=i(4428);function d(e){const n={code:"code",h4:"h4",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h4,{id:"1-avatar-default",children:"1. Avatar (default)"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"avatar"})," variant has a circle-shaped preview/placeholder."]}),"\n",(0,t.jsx)(l.A,{children:(0,t.jsx)(o.A,{id:"image-input-avatar",name:"image-input-avatar",previewImage:"https://picsum.photos/400",variant:"avatar"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:'<ImageInput\n\tid="image-input-avatar"\n\tname="image-input-avatar"\n\tvariant="avatar"\n/>\n'})}),"\n",(0,t.jsx)(n.h4,{id:"2-rounded",children:"2. Rounded"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"rounded"})," variant has a rounded preview/placeholder."]}),"\n",(0,t.jsx)(l.A,{children:(0,t.jsx)(o.A,{id:"image-input-rounded",name:"image-input-rounded",previewImage:"https://picsum.photos/400",variant:"rounded"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:'<ImageInput\n\tid="image-input-rounded"\n\tname="image-input-rounded"\n\tvariant="rounded"\n/>\n'})}),"\n",(0,t.jsx)(n.h4,{id:"3-square",children:"3. Square"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"square"})," variant has a square preview/placeholder."]}),"\n",(0,t.jsx)(l.A,{children:(0,t.jsx)(o.A,{id:"image-input-square",name:"image-input-square",previewImage:"https://picsum.photos/400",variant:"square"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:'<ImageInput\n\tid="image-input-square"\n\tname="image-input-square"\n\tvariant="square"\n/>\n'})})]})}function c(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}const p={id:{type:"string",description:"The id of the input element.",isRequired:!0},name:{type:"string",description:"The name of the input element.",isRequired:!0},variant:{type:["avatar","rounded","square"],description:"The image preview/placeholder variant.",defaultValue:"avatar"},previewImage:{type:"string",description:"The src of the preview image. Can be used as a default preview."},previewImageAlt:{type:"string",description:"The alt text of the preview image."},buttonText:{type:"string",description:"The text of the button.",defaultValue:"Select Image"},buttonVariant:{type:["primary","secondary"],description:"The button variant.",defaultValue:"secondary"},accept:{type:"string",description:"The file types that the input should accept.",defaultValue:"image/*"},onClick:{type:"function",description:"Fires when the button is clicked and will take over the default file input behavior. The function will receive the event object as an argument."},onChange:{type:"function",description:'Fires when the file input changes. The function will receive an object of "event" and "file" as an argument.'},onReset:{type:"function",description:'Fires when preview image is reset. The function will receive an object of "inputId", "previousPreview" and "event" as an argument.'},className:{type:"string",description:"The class name of the element."},disabled:{type:"bool",description:"If true, the input will be disabled."},isLoading:{type:"bool",description:"If true, the input will be in a loading state."},resetPreviewActionAriaLabel:{type:"string",description:"The aria-label of the reset preview action button."}},u={},m="Image Input",h={},g=[{value:"Usage",id:"usage",level:3},{value:"Variants",id:"variants",level:3},{value:"Disabled",id:"disabled",level:3},{value:"isLoading",id:"isloading",level:3},{value:"onClick",id:"onclick",level:3},{value:"onChange",id:"onchange",level:3},{value:"onReset",id:"onreset",level:3},{value:"Props",id:"props",level:3}];function f(e){const n={admonition:"admonition",code:"code",h1:"h1",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",...(0,s.R)(),...e.components};return r.A||x("PropsTable",!1),r.A.Table||x("PropsTable.Table",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"image-input",children:"Image Input"})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"ImageInput"})," element provides a file input to upload images."]}),"\n",(0,t.jsx)(l.A,{children:(0,t.jsx)(o.A,{id:"image-input-1",name:"image-input-1"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"usage",children:"Usage"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:'import { ImageInput } from "@newfold/ui-component-library";\n\n<ImageInput\n    id="image-input"\n    name="image-input"\n/>\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"variants",children:"Variants"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"ImageInput"})," has 3 variants: ",(0,t.jsx)(n.code,{children:"avatar"}),", ",(0,t.jsx)(n.code,{children:"rounded"}),", and ",(0,t.jsx)(n.code,{children:"square"}),"."]}),"\n",(0,t.jsx)(c,{}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"disabled",children:"Disabled"}),"\n",(0,t.jsxs)(n.p,{children:["Use the ",(0,t.jsx)(n.code,{children:"disabled"})," prop to disable the ",(0,t.jsx)(n.code,{children:"ImageInput"}),"."]}),"\n",(0,t.jsx)(l.A,{children:(0,t.jsx)(o.A,{id:"image-input-disabled",name:"image-input-disabled",disabled:!0})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:'<ImageInput\n    id="image-input"\n    name="image-input"\n    disabled\n/>\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"isloading",children:"isLoading"}),"\n",(0,t.jsxs)(n.p,{children:["Use the ",(0,t.jsx)(n.code,{children:"isLoading"})," prop to show a loading spinner."]}),"\n",(0,t.jsx)(l.A,{children:(0,t.jsx)(o.A,{id:"image-input-loading",name:"image-input-loading",isLoading:!0})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:'<ImageInput\n    id="image-input"\n    name="image-input"\n    isLoading\n/>\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"onclick",children:"onClick"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"onClick"})," prop allows you to pass a function to be called when the ",(0,t.jsx)(n.code,{children:"ImageInput"})," button is clicked."]}),"\n",(0,t.jsx)(l.A,{children:(0,t.jsx)(o.A,{id:"image-input-onclick",name:"image-input-onclick",onClick:()=>alert("ImageInput clicked!")})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:'<ImageInput\n    id="image-input"\n    name="image-input"\n    onClick={() => alert(\'ImageInput clicked!\')}\n/>\n'})}),"\n",(0,t.jsx)(n.admonition,{type:"caution",children:(0,t.jsxs)(n.p,{children:["The function passed to the ",(0,t.jsx)(n.code,{children:"onClick"})," will replace the default behavior of the input element and will not open the file dialog."]})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"onchange",children:"onChange"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"onChange"})," prop allows you to pass a function to be called when the ",(0,t.jsx)(n.code,{children:"ImageInput"})," value changes. The function will receive an object with the event and the inserted file."]}),"\n",(0,t.jsx)(l.A,{children:(0,t.jsx)(o.A,{id:"image-input-onchange",name:"image-input-onchange",onChange:({event:e,file:n})=>console.log(e,n)})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:'<ImageInput\n    id="image-input"\n    name="image-input"\n    onChange={({event, file}) => console.log(event, file)}\n/>\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"onreset",children:"onReset"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"onReset"}),' prop allows you to pass a function to be called when the preview image is reset (removed). The function will receive an object of "inputId", "previousPreview" and "event" as an argument.']}),"\n",(0,t.jsx)(l.A,{children:(0,t.jsx)(o.A,{id:"image-input-onreset",name:"image-input-onreset",onReset:({inputId:e,previousPreview:n,event:i})=>console.log(e,n,i)})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:'<ImageInput\n    id="image-input"\n    name="image-input"\n    onReset={({inputId, previousPreview, event}) => console.log(inputId, previousPreview, event)}\n/>\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"props",children:"Props"}),"\n",(0,t.jsx)(r.A.Table,{docs:p})]})}function v(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(f,{...e})}):f(e)}function x(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},363:(e,n,i)=>{i.d(n,{Ay:()=>g});var a=i(6942),t=i.n(a),s=i(2543),r=i(5556),l=i.n(r),o=i(6244),d=i(6540),c=i(4848);const p={variant:{default:"",primary:"nfd-text-primary-500",white:"nfd-text-white"},size:{3:"nfd-w-3 nfd-h-3",4:"nfd-w-4 nfd-h-4",8:"nfd-w-8 nfd-h-8"}},u=(0,d.forwardRef)(({variant:e,size:n,className:i},a)=>{const s=(0,o.A)();return(0,c.jsxs)("svg",{ref:a,xmlns:"http://www.w3.org/2000/svg/",fill:"none",viewBox:"0 0 24 24",className:t()("nfd-animate-spin",p.variant[e],p.size[n],i),...s,children:[(0,c.jsx)("circle",{className:"nfd-opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,c.jsx)("path",{className:"nfd-opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),m={variant:l().oneOf((0,s.keys)(p.variant)),size:l().oneOf((0,s.keys)(p.size)),className:l().string};u.propTypes=m,u.defaultProps={variant:"default",size:"4",className:""},u.displayName="Spinner";const h=e=>(0,c.jsx)(u,{...e});h.propTypes=m,h.defaultProps=u.defaultProps,h.displayName="Spinner";const g=u},4428:(e,n,i)=>{i.d(n,{A:()=>v});var a=i(6540);const t=a.forwardRef(function(e,n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n},e),a.createElement("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"}))});const s=a.forwardRef(function(e,n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n},e),a.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z",clipRule:"evenodd"}))});const r=a.forwardRef(function(e,n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n},e),a.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))});var l=i(2543),o=i(5556),d=i.n(o),c=i(6942),p=i.n(c),u=i(8746),m=i(363),h=i(4848);const g={classes:{rounded:"nfd-rounded-lg",avatar:"nfd-rounded-full",square:"nfd-rounded-none"},components:{Rounded:t,Avatar:s,Square:t}},f=(0,a.forwardRef)(({id:e,name:n,variant:i,previewImage:t,previewImageAlt:s,buttonText:l,buttonVariant:o,onClick:d,onChange:c,onReset:f,className:v,disabled:x,accept:j,isLoading:b=!1,resetPreviewActionAriaLabel:w,...y},I)=>{const[A,R]=(0,a.useState)(t||null);(0,a.useEffect)(()=>{R(t||null)},[t]);const N=(0,a.useCallback)(e=>{var n;const i=null===(n=e.target.files)||void 0===n?void 0:n[0];if(!i)return;const a=URL.createObjectURL(i);return R(a),c&&c({event:e,file:i}),()=>URL.revokeObjectURL(a)},[c]),k=(0,a.useCallback)(n=>{if(x)return;if("keydown"===n.type&&!["Enter"," "].includes(n.key))return;R(null);const i=document.getElementById(e);i&&(i.value=""),f&&f({inputId:e,previousPreview:A,event:n})," keydown "===n.type&&n.preventDefault()},[e,A,f]),T=(0,a.useCallback)(n=>{if(x)return;if(d)return void d(n);const i=document.getElementById(e);i&&i.click()},[x]),C=()=>{if(A||b)return(0,h.jsxs)("div",{className:p()("nfd-image-input__preview nfd-group",g.classes[i]||g.classes.avatar),children:[!A&&(0,h.jsx)("div",{className:"nfd-image-input__loading",children:(0,h.jsx)(m.Ay,{})}),A&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("img",{src:A,alt:s||"Selected",className:"nfd-image-input__preview-img"}),(0,h.jsx)("div",{onClick:k,onKeyDown:k,role:"button",tabIndex:0,disabled:x,className:"nfd-image-input__preview-reset group-hover:nfd-opacity-100","aria-label":w||"Remove selected image",children:(0,h.jsx)(r,{className:"nfd-m-auto"})})]})]});i&&(i=(i=(i=i.trim()).toLowerCase()).charAt(0).toUpperCase()+i.slice(1));const e=g.components[i]||g.components.Avatar;return(0,h.jsx)(e,{className:"nfd-image-input__icon"})};return(0,h.jsxs)("div",{className:p()("nfd-image-input",A&&"nfd-has-preview",x&&"nfd-is-disabled",v),children:[(0,h.jsx)(C,{}),(0,h.jsx)("input",{id:e,name:n,type:"file",className:"nfd-hidden",accept:j||"image/*",onChange:N,disabled:x,ref:I,...y}),(0,h.jsx)(u.Ay,{variant:o||"secondary",onClick:T,disabled:x,children:l||"Select Image"})]})});f.propTypes={id:d().string.isRequired,name:d().string.isRequired,variant:d().oneOf((0,l.keys)(g.classes)),previewImage:d().string,previewImageAlt:d().string,buttonText:d().string,buttonVariant:d().string,onClick:d().func,onChange:d().func,className:d().string,disabled:d().bool,accept:d().string,isLoading:d().bool,resetPreviewActionAriaLabel:d().string,onReset:d().func},f.defaultProps={variant:"avatar",previewImage:null,previewImageAlt:"Selected image",buttonText:"Select Image",buttonVariant:"secondary",onClick:null,onChange:null,className:"",disabled:!1,accept:"image/*",isLoading:!1,resetPreviewActionAriaLabel:"Remove selected image",onReset:null},f.displayName="ImageInput";const v=f},6244:(e,n,i)=>{i.d(n,{A:()=>t});var a=i(6540);const t=(e=null)=>(0,a.useMemo)(()=>{const n={role:"img","aria-hidden":"true"};return null!==e&&(n.focusable=e?"true":"false"),n},[e])},8043:(e,n,i)=>{i.d(n,{A:()=>r});var a=i(6540),t=i(4848);const s={Table:({children:e,docs:n})=>{const i=[],a=()=>!!(n&&"object"==typeof n&&Object.keys(n).length>0);return(0,t.jsx)("div",{className:"props-table",children:(0,t.jsxs)("table",{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Attribute"}),(0,t.jsx)("th",{children:"Type"}),(0,t.jsx)("th",{children:"Description"}),(0,t.jsx)("th",{children:"Default"})]})}),(0,t.jsxs)("tbody",{children:[!e&&!a()&&(0,t.jsx)("div",{className:"empty-props",children:"This component has no props."}),(()=>{if(a())for(const e in n)if(n.hasOwnProperty(e)){const a=n[e];a.name=e,void 0===a.type&&(a.type=[]),void 0===a.description&&(a.description=""),void 0===a.defaultValue&&(a.defaultValue=""),void 0===a.isRequired&&(a.isRequired=!1),i.push((0,t.jsx)(s.Row,{name:a.name,type:a.type,description:a.description,defaultValue:a.defaultValue,isRequired:a.isRequired},a.name))}return i})(),e]})]})})},Row:({name:e,type:n=[],description:i="-",defaultValue:s="-",isRequired:r=!1})=>{const l=()=>{let e=n;return"string"==typeof e&&(e=[e]),e.length>0?(0,t.jsx)(t.Fragment,{children:e.map((e,n)=>(0,t.jsxs)(a.Fragment,{children:[(0,t.jsx)("code",{children:e}),(0,t.jsx)("span",{children:" | "})]},n))}):(0,t.jsx)("span",{children:"-"})};return e&&"string"==typeof e?(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"props-table-name-col",children:"boolean"==typeof r&&r?(0,t.jsxs)("span",{className:"required-prop",children:[e,(0,t.jsx)("sup",{children:"*"})]}):(0,t.jsx)("span",{children:e})}),(0,t.jsx)("td",{className:"props-table-types-col",children:l()}),(0,t.jsx)("td",{className:"props-table-description-col",children:i&&"string"==typeof i&&""!==i?(0,t.jsx)("span",{children:i}):(0,t.jsx)("span",{children:"-"})}),(0,t.jsx)("td",{className:"props-table-default-col",children:s&&"string"==typeof s&&""!==s&&"-"!==s?(0,t.jsx)("code",{children:s}):(0,t.jsx)("span",{children:"-"})})]}):(console.warn("From: PropsTable.Row. Invalid prop name or missing required props: name."),null)}},r=s},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>l});var a=i(6540);const t={},s=a.createContext(t);function r(e){const n=a.useContext(s);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),a.createElement(s.Provider,{value:n},e.children)}},8746:(e,n,i)=>{i.d(n,{Ay:()=>h});var a=i(6942),t=i.n(a),s=i(2543),r=i(5556),l=i.n(r),o=i(363),d=i(6540),c=i(4848);const p={variant:{primary:"nfd-button--primary",secondary:"nfd-button--secondary",error:"nfd-button--error",upsell:"nfd-button--upsell"},size:{default:"",small:"nfd-button--small",large:"nfd-button--large"}},u=(0,d.forwardRef)(({children:e,as:n,type:i,variant:a,size:s,isLoading:r,disabled:l,className:d,...u},m)=>(0,c.jsxs)(n,{type:i||"button"===n&&"button"||void 0,disabled:l,ref:m,className:t()("nfd-button",p.variant[a],p.size[s],r&&"nfd-cursor-wait",l&&"nfd-button--disabled",d),...u,children:[r&&(0,c.jsx)(o.Ay,{size:"small"===s?"3":"4",className:"nfd-mr-2"}),e]})),m={children:l().node.isRequired,as:l().elementType,type:l().oneOf(["button","submit","reset"]),variant:l().oneOf((0,s.keys)(p.variant)),size:l().oneOf((0,s.keys)(p.size)),isLoading:l().bool,disabled:l().bool,className:l().string};u.propTypes=m,u.defaultProps={as:"button",type:void 0,variant:"primary",size:"default",isLoading:!1,disabled:!1,className:""},u.displayName="Button";const h=u,g=e=>(0,c.jsx)(u,{...e});g.propTypes=m,g.defaultProps=u.defaultProps,g.displayName="Button"}}]);